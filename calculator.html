<!Doctype html>
<html>
  <head>
    <title>HTML Calculator</title>
  <script>
    function xminusesinx(x, e) {
      return x - e*Math.sin(x);
    }    
    function invxminusesinx(y, e) {
  var range = 1;
  var left, middle, right;
  left = y-range;
  middle = y;
  right = y+range;
  var middleval = xminusesinx(middle, e);
  var i;
  for (i=0; i<50; i++) {
    if (middleval > y) {
      right = middle;
      middle = (left + right)/2.0;
      middleval = xminusesinx(middle, e);
    } else {
      left = middle;
      middle = (left + right)/2.0;
      middleval = xminusesinx(middle, e);
    }
  }
  return middle;
    }
  </script>
  </head>
  <body> <h1>HTML Calculator</h1><br>
  <p>Returns x given y,e such that y = x - e*sin(x).</p><br>
    <table cols=3 rows=4>
      <tr><td>y</td><td>&nbsp;</td><td><input type = 'text' size = 20 id = 'yinput'></td></tr>
      <tr><td>e</td><td>&nbsp;</td><td><input type = 'text' size = 20 id = 'einput' value=1></td></tr>
      <tr><td>x</td><td>&nbsp;</td><td><input type = 'text' READONLY size = 20 id = 'xoutput'></td></tr>
      <tr><td>x - e*sin(x)</td><td>&nbsp;</td><td><input type = 'text' READONLY size = 20 id = 'xminusesinxoutput'></td></tr>
      <tr><td>&nbsp;</td><td>&nbsp;</td><td><input type = 'button' size = 20 id = 'calculatebutton' value = "Calculate x" onclick = "
      var y = parseFloat(document.getElementById('yinput').value);
      var e = parseFloat(document.getElementById('einput').value);
      if ((e<-1) || (e>1)) {
        alert('-1 <= e <= 1');
      } else {
        var x = invxminusesinx(y, e);
        document.getElementById('xoutput').value = x;
        document.getElementById('xminusesinxoutput').value = xminusesinx(x, e);
      } 
      "></td></tr>
    </table>
  </body>
</html>
